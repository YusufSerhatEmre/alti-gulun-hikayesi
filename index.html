<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Altı Gülün Hikâyesi</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="book" id="book">
    <div class="paper" id="p1">
      <div class="front">
        <div class="content">
          <h2>1. Gül – Tanışma</h2>
          <p>Bir gün, hiç beklemediğim bir anda karşılaştık. Gözlerinde kayboldum...</p>
        </div>
      </div>
      <div class="back">
        <div class="content">
          <h2>2. Gül – İlk Gülümseme</h2>
          <p>Sen güldün, ben yeniden doğdum. O an içimde bir şeyler filizlendi...</p>
        </div>
      </div>
    </div>
    <div class="paper" id="p2">
      <div class="front">
        <div class="content">
          <h2>3. Gül – Birlikte Geçen Zaman</h2>
          <p>Beraber yaptığımız her şey bir tablo gibiydi. Fırçayı sen tutuyordun...</p>
        </div>
      </div>
      <div class="back">
        <div class="content">
          <h2>4. Gül – Zor Zamanlar</h2>
          <p>Her güzel şeyin sınandığı gibi biz de sınandık. Ama içimdeki sevgi hep oradaydı...</p>
        </div>
      </div>
    </div>
    <div class="paper" id="p3">
      <div class="front">
        <div class="content">
          <h2>5. Gül – Uzaklık</h2>
          <p>Sessizliğin içinde sesini aradım. Bir çiçek gibi bekledim güneşi...</p>
        </div>
      </div>
      <div class="back">
        <div class="content">
          <h2>6. Gül – Veda ve Umut</h2>
          <p>Belki de bazı vedalar bir başlangıçtır. Güller solar ama anılar kalır...</p>
        </div>
      </div>
    </div>
  </div>

  <audio id="bgm" autoplay loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/01/audio_9a5a67a95c.mp3" type="audio/mp3">
  </audio>

  <script>
    const book = document.getElementById("book");
    const papers = document.querySelectorAll(".paper");
    let current = 0;

    function turnPage() {
      if (current < papers.length) {
        papers[current].classList.add("flipped");
        papers[current].style.zIndex = papers.length - current;
        current++;
        speakPage(current);
      }
    }

    function speakPage(index) {
      const texts = [
        "Bir gün, hiç beklemediğim bir anda karşılaştık. Gözlerinde kayboldum.",
        "Sen güldün, ben yeniden doğdum.",
        "Beraber yaptığımız her şey bir tablo gibiydi.",
        "Her güzel şeyin sınandığı gibi biz de sınandık.",
        "Sessizliğin içinde sesini aradım.",
        "Belki de bazı vedalar bir başlangıçtır."
      ];
      if (index <= texts.length) {
        const msg = new SpeechSynthesisUtterance(texts[index - 1]);
        msg.lang = "tr-TR";
        msg.rate = 0.95;
        speechSynthesis.speak(msg);
      }
    }

    book.addEventListener("click", turnPage);
  </script>
</body>
</html>
